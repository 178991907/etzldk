(()=>{var e={};e.id=974,e.ids=[974],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9504:(e,t,s)=>{Promise.resolve().then(s.bind(s,28375)),Promise.resolve().then(s.bind(s,22911)),Promise.resolve().then(s.bind(s,24320)),Promise.resolve().then(s.bind(s,73421)),Promise.resolve().then(s.bind(s,777)),Promise.resolve().then(s.bind(s,81611)),Promise.resolve().then(s.bind(s,26009))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21204:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(37413),r=s(67218);s(79130);var l=s(65613),n=s(28375),i=s(71682);async function d(){let e=await (0,l.wz)(),t=await (0,l.Ji)()||[],s=!!i.L;return(0,a.jsx)(n.default,{initialUser:e,initialTasks:t,useLocalStorage:s})}(0,s(17478).D)([d]),(0,r.A)(d,"00239dcf539fc3de0f98c4dc621f0d7970fd32fda4",null)},21820:e=>{"use strict";e.exports=require("os")},22528:(e,t,s)=>{Promise.resolve().then(s.bind(s,61968)),Promise.resolve().then(s.bind(s,57317)),Promise.resolve().then(s.bind(s,95978)),Promise.resolve().then(s.bind(s,96367)),Promise.resolve().then(s.bind(s,67572)),Promise.resolve().then(s.bind(s,18017)),Promise.resolve().then(s.bind(s,24571))},28375:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/Terry/Downloads/zilvdaka-main 2/src/components/dashboard/dashboard-view.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/Terry/Downloads/zilvdaka-main 2/src/components/dashboard/dashboard-view.tsx","default")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},39986:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(60687),r=s(43210),l=s(16457),n=s(85726);let i=()=>{let[e,t]=(0,r.useState)(new Date),[s,i]=(0,r.useState)(!1),{i18n:d,t:o}=(0,l.Bd)();if((0,r.useEffect)(()=>{i(!0);let e=setInterval(()=>{t(new Date)},1e3);return()=>{clearInterval(e)}},[]),!s)return(0,a.jsx)(n.E,{className:"h-12 w-[380px]"});let c=d.language.startsWith("zh")?"zh-CN":"en-US",u=e.toLocaleTimeString(c,{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),x=e.toLocaleDateString(c,{year:"numeric",month:"long",day:"numeric"}),f=`tasks.weekdaysFull.${e.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase()}`;return(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,a.jsxs)("div",{className:"text-xl font-medium text-muted-foreground",children:[x," ",o(f)]}),(0,a.jsx)("div",{className:"text-4xl font-bold font-mono text-foreground",children:u})]})}},44493:(e,t,s)=>{"use strict";s.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>u});var a=s(60687),r=s(43210),l=s(4780);let n=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let i=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let d=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let o=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},46657:(e,t,s)=>{"use strict";s.d(t,{k:()=>w});var a=s(60687),r=s(43210),l=s(11273),n=s(3416),i="Progress",[d,o]=(0,l.A)(i),[c,u]=d(i),x=r.forwardRef((e,t)=>{var s,r;let{__scopeProgress:l,value:i=null,max:d,getValueLabel:o=p,...u}=e;(d||0===d)&&!j(d)&&console.error((s=`${d}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let x=j(d)?d:100;null===i||b(i,x)||console.error((r=`${i}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let f=b(i,x)?i:null,m=v(f)?o(f,x):void 0;return(0,a.jsx)(c,{scope:l,value:f,max:x,children:(0,a.jsx)(n.sG.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":v(f)?f:void 0,"aria-valuetext":m,role:"progressbar","data-state":h(f,x),"data-value":f??void 0,"data-max":x,...u,ref:t})})});x.displayName=i;var f="ProgressIndicator",m=r.forwardRef((e,t)=>{let{__scopeProgress:s,...r}=e,l=u(f,s);return(0,a.jsx)(n.sG.div,{"data-state":h(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...r,ref:t})});function p(e,t){return`${Math.round(e/t*100)}%`}function h(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function v(e){return"number"==typeof e}function j(e){return v(e)&&!isNaN(e)&&e>0}function b(e,t){return v(e)&&!isNaN(e)&&e<=t&&e>=0}m.displayName=f;var g=s(4780);let w=r.forwardRef(({className:e,value:t,...s},r)=>(0,a.jsx)(x,{ref:r,className:(0,g.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:(0,a.jsx)(m,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));w.displayName=x.displayName},55511:e=>{"use strict";e.exports=require("crypto")},61968:(e,t,s)=>{"use strict";s.d(t,{default:()=>P});var a=s(60687),r=s(43210),l=s(85814),n=s.n(l),i=s(30474),d=s(29523),o=s(44493),c=s(85726),u=s(69456),x=s(70101),f=s(6211),m=s(54987),p=s(6475);let h=(0,p.createServerReference)("60b4529348658197a0c957738d4e45c653e0047bae",p.callServer,void 0,p.findSourceMapURL,"completeTaskAndUpdateXP");var v=s(24571),j=s(56397),b=s(89981),g=s(31851),w=s(39986),y=s(1347),N=s(16189);function k({initialTasks:e,useLocalStorage:t}){let[s,l]=r.useState(e),n=(0,g.f)(),{openPomodoro:i}=(0,y.kt)(),o=(0,N.useRouter)();r.useEffect(()=>{if(t){let e=async()=>{l(await (0,v.getClientTodaysTasks)())};e();let t=()=>e();return window.addEventListener("tasksUpdated",t),()=>{window.removeEventListener("tasksUpdated",t)}}l(e)},[t,e]);let c=async(e,s)=>{s&&n("success"),t?(await (0,v.WO)(e,s),l(await (0,v.getClientTodaysTasks)())):await h(e,s),l(t=>t.map(t=>t.id===e.id?{...t,completed:s}:t)),o.refresh()},u=e=>{i()};return(0,a.jsx)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(f.XI,{children:[(0,a.jsxs)(f.A0,{children:[(0,a.jsx)(f.Hj,{children:(0,a.jsx)(f.nA,{colSpan:4,className:"p-0",children:(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(w.A,{})})})}),(0,a.jsxs)(f.Hj,{children:[(0,a.jsx)(f.nd,{className:"w-[60px] text-center text-lg hidden md:table-cell",children:(0,a.jsx)(b.C,{tKey:"tasks.dailyTable.order"})}),(0,a.jsx)(f.nd,{className:"text-lg min-w-[150px]",children:(0,a.jsx)(b.C,{tKey:"tasks.dailyTable.dailyTask"})}),(0,a.jsx)(f.nd,{className:"w-[100px] text-center text-lg whitespace-nowrap",children:(0,a.jsx)(b.C,{tKey:"tasks.dailyTable.execution"})}),(0,a.jsx)(f.nd,{className:"w-[100px] text-center text-lg whitespace-nowrap",children:(0,a.jsx)(b.C,{tKey:"tasks.dailyTable.status"})})]})]}),(0,a.jsx)(f.BF,{children:s.length>0?s.map((e,t)=>{let s=j.K[e.category];return(0,a.jsxs)(f.Hj,{children:[(0,a.jsx)(f.nA,{className:"text-center font-medium hidden md:table-cell",children:t+1}),(0,a.jsx)(f.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[s&&(0,a.jsx)(s,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{className:"font-medium",children:e.title})]})}),(0,a.jsx)(f.nA,{className:"text-center",children:(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>u(e),children:(0,a.jsx)(b.C,{tKey:"tasks.dailyTable.start"})})}),(0,a.jsx)(f.nA,{className:"text-center",children:(0,a.jsx)(m.d,{checked:e.completed,onCheckedChange:t=>c(e,t)})})]},e.id)}):(0,a.jsx)(f.Hj,{children:(0,a.jsx)(f.nA,{colSpan:4,className:"h-24 text-center",children:(0,a.jsx)(b.C,{tKey:"dashboard.noAdventures"})})})})]})})})}function P({initialUser:e,initialTasks:t,useLocalStorage:s}){let[l,f]=(0,r.useState)(e),[m,p]=(0,r.useState)(!1);t.filter(e=>e.completed).length,t.length;let[h,v]=(0,r.useState)(t),j=h.filter(e=>e.completed).length,g=h.length,w=g>0?j/g*100:0,y=l?l.xp/l.xpToNextLevel*100:0;return(0,a.jsxs)("div",{className:"flex flex-col min-h-screen bg-background",children:[(0,a.jsxs)("header",{className:"sticky top-0 z-10 flex flex-nowrap h-auto py-2 md:py-0 md:h-[120px] items-center justify-between bg-background/80 backdrop-blur-sm px-4 md:px-8 gap-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 w-1/4 md:w-1/3"}),(0,a.jsx)("div",{className:"flex justify-center items-center w-1/2 md:w-1/3 shrink-0",children:l.frontendLogo?(0,a.jsx)(i.default,{src:l.frontendLogo,alt:"Frontend Logo",width:360,height:114,priority:!0,className:"object-contain w-[160px] h-auto md:w-[360px]"}):l.appLogo?(0,a.jsx)(i.default,{src:l.appLogo,alt:"App Logo",width:360,height:114,priority:!0,className:"object-contain w-[160px] h-auto md:w-[360px]"}):(0,a.jsx)(i.default,{src:"https://pic1.imgdb.cn/item/6817c79a58cb8da5c8dc723f.png",alt:"Logo",width:360,height:114,priority:!0,className:"object-contain w-[160px] h-auto md:w-[360px]"})}),(0,a.jsx)("nav",{className:"flex justify-end w-1/4 md:w-1/3",children:(0,a.jsx)(d.$,{asChild:!0,size:"sm",className:"md:h-10 md:px-4 md:py-2",children:(0,a.jsxs)(n(),{href:"/dashboard",children:[(0,a.jsx)("span",{className:"hidden md:inline",children:(0,a.jsx)(b.C,{tKey:"dashboardLink"})}),(0,a.jsx)("span",{className:"md:hidden",children:"Next"})]})})})]}),(0,a.jsx)("main",{className:"flex-1 flex flex-col items-center justify-start px-4 md:px-8",children:(0,a.jsxs)("div",{className:"w-full max-w-6xl",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center gap-8",children:[(0,a.jsx)("div",{className:"w-full md:w-1/2 flex flex-col items-center justify-center",children:l?(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(c.E,{className:"w-[350px] h-[350px] rounded-full"}),children:(0,a.jsx)(x.A,{petStyle:l.petStyle,progress:y,className:"w-full max-w-[500px] aspect-square",fullSize:!0})}):(0,a.jsx)(c.E,{className:"w-[350px] h-[350px] rounded-full"})}),(0,a.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(o.Zp,{children:(0,a.jsx)(o.Wu,{className:"p-4",children:(0,a.jsx)(u.p,{iconName:"Target",title:(0,a.jsx)(b.C,{tKey:"dashboard.dailyGoal"}),value:`${Math.round(w)}%`,description:(0,a.jsx)(b.C,{tKey:"dashboard.dailyGoalDescription",tOptions:{completedTasks:j,totalTasks:g}})})})})}),(0,a.jsx)("div",{className:"w-full",children:l?(0,a.jsx)(o.Zp,{children:(0,a.jsx)(o.Wu,{className:"p-4",children:(0,a.jsx)(u.p,{iconName:"Zap",title:(0,a.jsx)(b.C,{tKey:"dashboard.xpGained"}),value:`${l.xp} XP`,description:(0,a.jsx)(b.C,{tKey:"dashboard.xpToNextLevel",tOptions:{xp:l.xpToNextLevel-l.xp}}),progress:y})})}):(0,a.jsx)(c.E,{className:"h-28 w-full"})})]})]}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)(k,{initialTasks:t,useLocalStorage:s})})]})}),(0,a.jsx)("footer",{className:"py-4 text-center text-xl text-muted-foreground",children:(0,a.jsx)("a",{href:"https://web.terry.dpdns.org/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"\xa9 2025 英语全科启蒙. All Rights Reserved.『Terry开发与维护』"})})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69456:(e,t,s)=>{"use strict";s.d(t,{p:()=>o});var a=s(60687),r=s(46657);let l=(0,s(82614).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var n=s(2093),i=s(99196);let d={Target:l,Zap:n.A,Info:i.A};function o({iconName:e,title:t,value:s,description:l,progress:n}){let i=d[e];return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between pb-2",children:[(0,a.jsx)("div",{className:"text-lg font-semibold leading-none tracking-tight",children:t}),i&&(0,a.jsx)(i,{className:"h-5 w-5 text-muted-foreground"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:s}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:l}),void 0!==n&&(0,a.jsx)(r.k,{value:n,className:"mt-2 h-2 w-full"})]})]})}},70101:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(60687),r=s(43210),l=s(97905),n=s(4780),i=s(31851),d=s(203);let o={jump:{scale:[1,1.1,1],y:[0,-20,0],transition:{duration:.4,ease:"easeInOut"}},wiggle:{rotate:[0,-10,10,-10,0],transition:{duration:.5,ease:"easeInOut"}},spin:{rotate:[0,360],scale:[1,.8,1],transition:{duration:.5,ease:"circOut"}},bounce:{y:[0,-15,0,-8,0],transition:{duration:.6,ease:"easeOut"}}},c=({petStyle:e,progress:t,className:s,fullSize:c=!1})=>{let[u,x]=(0,r.useState)(null),f=(0,i.f)(),m=d.JZ[e]||d.JZ.pet1;return(0,a.jsx)("div",{className:(0,n.cn)("relative z-10 flex flex-col w-full h-full",s),children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center w-full h-full relative overflow-visible flex-grow",children:(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center rounded-lg cursor-pointer",onClick:e=>{f("click");let t=["jump","wiggle","spin","bounce"];x(t[Math.floor(Math.random()*t.length)])},children:(0,a.jsx)(l.P.div,{style:{scale:(.6+t/100*.3)*1.5*.4096,transition:"transform 0.5s ease"},animate:u?o[u]:{},onAnimationComplete:()=>x(null),className:(0,n.cn)("aspect-square flex items-center justify-center",c?"w-full max-h-full":"w-[60%] max-h-[80%]"),children:(0,a.jsx)(m,{})})})})})}},79551:e=>{"use strict";e.exports=require("url")},83721:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(43210);function r(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},86816:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o});var a=s(65239),r=s(48088),l=s(88170),n=s.n(l),i=s(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let o={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,21204)),"/Users/Terry/Downloads/zilvdaka-main 2/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/Users/Terry/Downloads/zilvdaka-main 2/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/Terry/Downloads/zilvdaka-main 2/src/app/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},95277:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"001f1a97e895fca6c4973fa7a838917f8efc977f21":()=>r.$_,"00239dcf539fc3de0f98c4dc621f0d7970fd32fda4":()=>a.default,"0061e8ed72e9caca809ed305bb705d36e7e6c68903":()=>r.Ji,"006269b314e2c0e1e338a3f1202a0b3d6ff398c717":()=>r.Pd,"008effac9009dd232114859669e03c30e78c683c70":()=>r.uD,"00ae0494fd0768734059b34c9a487b0bfb61256060":()=>r.wz,"00c9ec05a9bd6a6eb27e5eddd333aad140997d4f18":()=>r.x1,"4012e67bc15a80780dd8e4614517bed2024b211d8e":()=>r.KD,"401531637c46353fb1d6a7e420ca8e01a91653238b":()=>r.Zc,"401faf5091786dd5b9af3a259c27aa22910dc6ed6f":()=>r.TK,"403c3d7d447e36c7c3c20a6ab08421d5ded7604bff":()=>r.ID,"40497671f8c88d919706b0a4030b3048b73c1ddc77":()=>r.hZ,"40c3e5942eeb2adf02a27622d8ff12bfdb8f751e99":()=>r.vq,"40e79025bcb48ca3fd66c9f7f7b15ddb7bccee7cce":()=>r.Nd,"60b4529348658197a0c957738d4e45c653e0047bae":()=>r.zR,"60b9b3f572c048794dd788082b8c8b7c45ec4cfba6":()=>r.fd,"7808e5c037e6ccec8af9e7b0595a82818e193863ec":()=>r.qn});var a=s(21204),r=s(65613)},99196:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(82614).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[447,168,658,546,130,353,248],()=>s(86816));module.exports=a})();